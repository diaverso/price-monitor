# ============================================
# CONFIGURACIÓN DEL MONITOR DE PRECIOS
# ============================================
#
# IMPORTANTE: Copia este archivo a .env y configura tus valores
# cp .env.example .env
#
# NUNCA subas el archivo .env a repositorios públicos
#

# ============================================
# BASE DE DATOS
# ============================================
DB_HOST=localhost
DB_NAME=price_monitor
DB_USER=price_monitor_user
DB_PASS=TU_CONTRASEÑA_SEGURA_AQUI
DB_PORT=3306
DB_CHARSET=utf8mb4

# ============================================
# SEGURIDAD
# ============================================
# Genera una clave secreta única para tu aplicación
# Puedes generar una con: openssl rand -base64 32
APP_SECRET_KEY=TU_CLAVE_SECRETA_AQUI

# Entorno de la aplicación (development, production)
APP_ENV=production

# ============================================
# NOTIFICACIONES - TELEGRAM
# ============================================
# Crea un bot en https://t.me/BotFather
TELEGRAM_BOT_TOKEN=

# ============================================
# NOTIFICACIONES - TWILIO (WhatsApp y SMS)
# ============================================
# Obtén credenciales en https://www.twilio.com/
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# ============================================
# NOTIFICACIONES - EMAIL
# ============================================
SMTP_HOST=localhost
SMTP_PORT=25
SMTP_USER=
SMTP_PASS=
SMTP_FROM_EMAIL=noreply@pricemonitor.com
SMTP_FROM_NAME=Price Monitor

# ============================================
# CONFIGURACIÓN DE SEGURIDAD
# ============================================
# Tiempo de expiración de sesión (en segundos)
SESSION_TIMEOUT=3600

# Máximo de intentos de login fallidos antes de bloqueo
MAX_LOGIN_ATTEMPTS=5

# Tiempo de bloqueo después de intentos fallidos (en minutos)
LOGIN_LOCKOUT_TIME=30

# ============================================
# RATE LIMITING
# ============================================
# Máximo de peticiones API por minuto por usuario
API_RATE_LIMIT=60

# ============================================
# SCRAPING
# ============================================
# User-Agent para el scraper
SCRAPER_USER_AGENT=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36

# Timeout para peticiones (en segundos)
SCRAPER_TIMEOUT=30

# Delay entre peticiones (en segundos) para evitar bloqueos
SCRAPER_DELAY=2

# ============================================
# PROXYS (Opcional - para evitar bloqueos)
# ============================================
# Lista de proxys separados por comas
# Formato: protocolo://usuario:password@host:puerto
# Ejemplo: http://user:pass@proxy1.com:8080,http://proxy2.com:8080
# Puedes usar servicios como: BrightData, Oxylabs, ScraperAPI, etc.
PROXIES=

# Habilitar rotación de proxys (true/false)
PROXY_ROTATION=false

# ============================================
# SCRAPING - ANTI-BOT DETECTION
# ============================================
# IMPORTANTE: Para evitar bloqueos (Error 403)
# 
# 1. USA PROXIES PREMIUM RESIDENCIALES (NO gratuitos)
#    Servicios recomendados: BrightData, Oxylabs, SmartProxy
#
# 2. El sistema ya implementa:
#    - User-Agent FIJO (NO randomizado)
#    - Delays largos y aleatorios (5-15 segundos)
#    - Visita a home antes del producto
#    - Headers realistas de Chrome
#    - Cookies persistentes
#
# 3. Para mejor resultado:
#    - Activa PROXY_ROTATION=true
#    - Usa proxies residenciales premium
#    - El CRON automático (3x día) tiene más éxito que peticiones manuales
